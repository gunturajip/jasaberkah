---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/sections/Hero.astro";
import Testimonies from "../components/sections/Testimonies.astro";
import Services from "../components/sections/Services.astro";
import CTA from "../components/sections/CTA.astro";
import Priorities from "../components/sections/Priorities.astro";
import Whatsapp from "../components/shared/Whatsapp.astro";

export async function getStaticPaths() {
  return [
    {
      params: {
        slug: "surabaya"
      }
    },
    {
      params: {
        slug: "malang"
      }
    },
  ];
}

const slug = Astro.params.slug;
const canonicalUrl = `https://gunturajip.github.io/jasaberkah/${slug}`;

const locationMap = {
  "surabaya": "Kota Surabaya",
  "malang": "Kota Malang"
}

const location = locationMap[slug];
---

<Layout location={location} canonicalUrl={canonicalUrl}>
  <main class="flex flex-col overflow-hidden">
    <Whatsapp useApi="true" mobile="6281249863105" message=`Hai Kak, Saya ingin tahu lebih lanjut mengenai jasa pengurusan izin usaha di Berkah Jasa di ${location}` />
    <Hero className="py-10 md:py-16" location={location} />
    <Priorities className="pt-10 md:pt-16" />
    <Services className="py-10 md:py-16" />
    <Testimonies className="py-10 md:py-16" />
    <CTA className="py-10 md:py-16" location={location} />
  </main>
</Layout>
